<ion-header>

  <ion-navbar>
    <ion-title>Change Password</ion-title>
  </ion-navbar>

</ion-header>


<ion-content no-padding class="forgot-section-bg">
  <div class="section forgot-section">
    <ion-row margin-vertical>
      <ion-col text-center>
        <img class="logo" src="assets/images/logo.png" alt="logo">
      </ion-col>
    </ion-row>
    <form [formGroup]="changePassForm" novalidate (ngSubmit)="onSubmit()">
      <ion-row>
        <ion-col class="form-float-field">
          <ion-item>
            <ion-label floating>New Password</ion-label>
            <ion-input formControlName="password" [class.error-box]="false" name="password" [type]="passwordType"
              required></ion-input>
            <ion-icon item-end [name]="passwordIcon" class="passwordIcon" (click)='hideShowPassword()'></ion-icon>
          </ion-item>
          <span class="error-msg" [hidden]="!(changePassForm.controls['password'].errors?.required && (changePassForm.controls['password'].dirty || isFormSubmitted)  &&  isFieldValid('password'))">
            Password is required
          </span>
          <span class="error-msg" [hidden]="!(changePassForm.controls.password.hasError('minlength') && (changePassForm.controls['password'].dirty || isFormSubmitted) && !changePassForm.controls['password'].errors?.required)">
            Password minimum length is 6
          </span>
          <span class="error-msg" [hidden]="!(changePassForm.controls.password.hasError('maxlength') && (changePassForm.controls['password'].dirty || isFormSubmitted) && !changePassForm.controls['password'].errors?.required)">
            Password maximum length is 20
          </span>
        </ion-col>
      </ion-row>
      
      <ion-row>
        <ion-col class="form-float-field">
          <ion-item>
            <ion-label floating>Confirm Password</ion-label>
            <ion-input formControlName="cpass" [class.error-box]="false" name="cpass" [type]="passwordType" required></ion-input>
            <ion-icon item-end [name]="passwordIcon" class="passwordIcon" (click)='hideShowPassword()'></ion-icon>
          </ion-item>
          <span class="error-msg" [hidden]="!(changePassForm.controls['cpass'].errors?.required && (changePassForm.controls['cpass'].dirty || isFormSubmitted)  &&  isFieldValid('cpass'))">
            Confirm Password is required
          </span>
          <span class="error-msg" [hidden]="!(changePassForm.controls.cpass.hasError('minlength') && (changePassForm.controls['cpass'].dirty || isFormSubmitted) && !changePassForm.controls['cpass'].errors?.required)">
            Confirm Password minimum length is 6
          </span>
          <span class="error-msg" [hidden]="!(changePassForm.controls.cpass.hasError('maxlength') && (changePassForm.controls['cpass'].dirty || isFormSubmitted) && !changePassForm.controls['cpass'].errors?.required)">
            Confirm Password maximum length is 20
          </span>
          <span class="error-msg" [hidden]="!(changePassForm.controls.cpass.hasError('equalTo') && (changePassForm.controls['cpass'].dirty || isFormSubmitted) && !changePassForm.controls['cpass'].errors?.required && !changePassForm.controls.cpass.hasError('minlength') && !changePassForm.controls.cpass.hasError('maxlength'))">
            Password &  Confirm Password should be same
          </span>
        </ion-col>
      </ion-row>
      <ion-row margin-vertical align-items-center>
        <ion-col col-12 text-left>
          <button block ion-button color="primary" type="submit">Submit</button>
        </ion-col>
      </ion-row>

    </form>
  </div>
</ion-content>
