<ion-content class="login-section-bg">

  <div class="section login-section">
    <ion-row margin-vertical>
      <ion-col text-center>
        <img class="logo" src="assets/images/logo.png" alt="logo">
      </ion-col>
    </ion-row>
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <ion-row margin-top>
        <ion-col class="form-float-field">
          <ion-item>
            <ion-label floating>Email Address</ion-label>
            <ion-input disabled=false  [class.error-box]="false" formControlName="email" name="email" type="email" required>
            </ion-input>
          </ion-item>
          <span class="error-msg"
            [hidden]="!(loginForm.controls['email'].errors?.required && (loginForm.controls['email'].dirty || isFormSubmitted) &&  isFieldValid('email'))">
            Email address is required
          </span>
          <span class="error-msg"
            [hidden]="!(loginForm.controls.email.hasError('maxlength') && (loginForm.controls['email'].dirty || isFormSubmitted) && !loginForm.controls['email'].errors?.required && !loginForm.controls.email.hasError('pattern'))">
            Email address maximum length is 100!
          </span>
          <span class="error-msg"
            [hidden]="!(loginForm.controls.email.hasError('pattern') && (loginForm.controls['email'].dirty || isFormSubmitted) && !loginForm.controls['email'].errors?.required)">
            Please enter valid email address.
          </span>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col class="form-float-field">
          <ion-item>
            <ion-label floating>Password</ion-label>
            <ion-input  disabled=false formControlName="password" [class.error-box]="false" name="password" [type]="passwordType"
              required></ion-input>
            <ion-icon item-end [name]="passwordIcon" class="passwordIcon text-white" (click)='hideShowPassword()'></ion-icon>
          </ion-item>
          <span class="error-msg"
            [hidden]="!(loginForm.controls['password'].errors?.required && (loginForm.controls['password'].dirty || isFormSubmitted)  &&  isFieldValid('password'))">
            Password is required
          </span>
          <span class="error-msg"
            [hidden]="!(loginForm.controls.password.hasError('minlength') && (loginForm.controls['password'].dirty || isFormSubmitted) && !loginForm.controls['password'].errors?.required)">
            Password minimum length is 6!
          </span>
          <span class="error-msg"
            [hidden]="!(loginForm.controls.password.hasError('maxlength') && (loginForm.controls['password'].dirty || isFormSubmitted) && !loginForm.controls['password'].errors?.required)">
            Password maximum length is 20!
          </span>
        </ion-col>
      </ion-row>
      <ion-row>
          <ion-col col-12 text-center>
            <ion-label class="btn-link btn-forgot" no-margin [navPush]="forgotPassword">
              Forgot Password ?
            </ion-label>
          </ion-col>
        </ion-row>
      <ion-row margin-top align-items-center>
        <ion-col col-12 text-left>
          <button block ion-button color="primary" type="submit">Login</button>
        </ion-col>
      </ion-row>
    </form>
    <ion-row>
        <ion-col col-12 text-center>
          <ion-label class="btn-link btn-signup" no-margin [navPush]="signupPage">
            <span class="text-white">Don't have an account? </span><strong>Sign up</strong>
          </ion-label>
        </ion-col>
      </ion-row>
    <ion-row>
       <ion-col col-12 text-center>
         <ion-label class="btn-link btn-signup" no-margin>
                 <span color ="primary" (click)="goToPrivacy()">Privacy Policy</span>
           <p>  <span color ="primary" (click)="goToTos()">Terms of Service</span></p>
             </ion-label>
       </ion-col>
     </ion-row>   
  </div> 

</ion-content>
